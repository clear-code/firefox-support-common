# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

Ui-0: UIの設定の検証

   :1: 事前準備

    - 前項に引き続いて検証するか、{%if use_meta_installer %}または以下の状態を整えておく。
        - 作成済みの `{{meta_installer_file_name}}*.exe` を検証用ユーザーとして実行し、カスタマイズ済みFirefoxのインストールを完了している。
        - 管理者権限を要求された場合は、`管理者`ユーザーで認証する。
    {% else %}再ログオン、インストーラの手動実行など、所定の手順でFirefoxのインストール及びカスタマイズを反映済みの状態とする。{% endif %}

Ui-1: Firefox組み込みのPDFビューアの使用可否

    :1: 許可する（既定）

    OPTIONS

    - 「一般」→「ファイルとプログラム」→「プログラム」でファイルの種類「PDF文書（PDF）」、「Adobe Acrobat Document」、「Portable Document Format (PDF)」、または「PDFファイル」の取り扱い方法が「Firefoxで開く」となっている。

    :3: 禁止する

    OPTIONS

    - 「一般」→「ファイルとプログラム」→「プログラム」でファイルの種類「PDF文書（PDF）」、「Adobe Acrobat Document」、「Portable Document Format (PDF)」、または「PDFファイル」の取り扱い方法の選択肢に「Firefoxで開く」が存在しない。

Ui-2: F7キーによるキャレットブラウズモードの開始の可否

    :1: 許可する（既定）

    - Firefoxを起動する。
    - コンテンツ領域にフォーカスした状態でF7キーを押す。
    - **確認**
        - キャレットブラウズの開始の可否を尋ねられる。

    :2: 禁止する

    - Firefoxを起動する。
    - コンテンツ領域にフォーカスした状態でF7キーを押す。
    - **確認**
        - キャレットブラウズの開始の可否を尋ねられない。

Ui-5: リーダービュー機能の使用

    :1: 使用する（既定）

    - Firefoxを起動する。
    - テストケースリストのリンクから `https://www.clear-code.com/blog/2019/9/9.html` を開く。
    - **確認**
        - アドレスバー内に本または書類形のアイコン（マウスオーバーで「リーダービューに切り替えます」という内容のツールチップが表示される）が表示される。

    :2: 使用しない

    - Firefoxを起動する。
    - テストケースリストのリンクから `https://www.clear-code.com/blog/2019/9/9.html` を開く。
    - **確認**
        - アドレスバー内に本または書類形のアイコン（マウスオーバーで「リーダービューに切り替えます」という内容のツールチップが表示される）が表示されない。

Ui-6: スペルチェック機能の使用

    :1: 使用する（既定）

    OPTIONS

    - 「一般」→「言語と外観」→「言語」で「自動スペルチェック機能を使用する」にチェックが入っている。

    :2: 使用しない

    OPTIONS

    - 「一般」→「言語と外観」→「言語」で「自動スペルチェック機能を使用する」のチェックが外れている。

Ui-7: FirefoxScreenshots機能の使用

    :1: 使用する（既定）

    - Firefoxを起動する。
    - `http://example.com/` を開く。
    - ページ上の何も無い領域で右クリックする。
    - **確認**
        - メニューに「スクリーンショットを撮影」が表示される。

    :3: 使用しない

    - Firefoxを起動する。
    - `http://example.com/` を開く。
    - ページ上の何も無い領域で右クリックする。
    - **確認**
        - メニューに「スクリーンショットを撮影」が表示されない。

Ui-9: Tabキーでのツールバーボタンへのフォーカス移動

    :1: 許可する（既定）

    - Firefoxを起動する。
    - アドレスバーにフォーカスする。
    - ESCキーを押し、補完候補を閉じる。
    - Tabキーを押す。
    - **確認**
        -  アドレスバーの右側にあるツールバーボタンにフォーカスが移動する。

    :2: 禁止する

    - Firefoxを起動する。
    - アドレスバーにフォーカスする。
    - ESCキーを押し、補完候補を閉じる。
    - Tabキーを押す。
    - **確認**
        -  アドレスバーの右側にあるツールバーボタンにフォーカスが移動しない。

Ui-10: BackSpace/Shift-BackSpaceに割り当てる動作

    :1: なし（既定）

    - Firefoxを起動する。
    - `https://www.clear-code.com/` もしくはページ内に遷移可能なリンクを含む何らかのWebサイトを開く。
    - ページ内のリンクをクリックして遷移する。
    - BackSpaceキーを押す。
    - **確認**
        -  何も起こらない。

    :2: 戻る/進む

    - Firefoxを起動する。
    - `https://www.clear-code.com/` もしくはページ内に遷移可能なリンクを含む何らかのWebサイトを開く。
    - ページ内のリンクをクリックして遷移する。
    - BackSpaceキーを押す。
    - **確認**
        -  1つ前のページに遷移する。

    :3: 1ページ上にスクロール/下にスクロール

    - Firefoxを起動する。
    - `https://www.clear-code.com/` もしくはスクロール可能な程度にページの高さがある何らかのWebサイトを開く。
    - ページ下端までスクロールする。
    - BackSpaceキーを押す。
    - **確認**
        -  1ページ分上にスクロールする。

Ui-11: サイトごとの表示拡大率の制御

    :1: サイトごとに記憶する（既定）

    - Firefoxを起動する。
    - `http://example.com` と `https://www.wikipedia.org/` を開く。(ドメインの異なるサイトであればよい)
    - Ctrl+++でサイトごとに異なる拡大率を設定する。
    - Firefoxを終了し、Firefoxを再度起動後に同じサイトを開く。
    - **確認**
        - サイトごとに拡大率が保持されていることを確認する。

    :2: サイトごとに記憶しない(リセットされる)

    - Firefoxを起動する。
    - `http://example.com` と `https://www.wikipedia.org/` を開く。(ドメインの異なるサイトであればよい)
    - Ctrl+++でサイトごとに異なる拡大率を設定する。
    - Firefoxを終了し、Firefoxを再度起動後に同じサイトを開く。
    - **確認**
        - サイトに設定した拡大率がリセットされていることを確認する。

Ui-12: タッチパッドでの二本指でのスワイプ操作の振る舞い

    :1: 「戻る」「進む」に割り当てる（既定）: 検証環境がタッチパッドでの二本指ジェスチャに対応している場合

    - Windowsの設定で「タッチパッド」→「スクロールとズーム」→「スクロール方向」の状態を確認する。
      「ダウンモーションで上にスクロール」である場合、右スワイプを使用することにする。
      「ダウンモーションで下にスクロール」である場合、左スワイプを使用することにする。
    - Firefoxを起動する。
    - テストケースの `index.html` を開く。
    - いずれかのリンクをクリックしてページ遷移する。
    - 指二本をタッチパッドに接触させ、先に確認したWindowsの設定に併せて、右スワイプ（まっすぐ右へ動かす）または左スワイプ（まっすぐ左へ動かす）を行い、指をタッチパッドから放す。
    - **確認**
        - 「戻る」が実行され、表示中のページが `index.html` に切り替わる。

    :1: 「戻る」「進む」に割り当てる（既定）: 検証環境がタッチパッドでの二本指ジェスチャに対応していない場合

    ABOUT_CONFIG

    - `widget.disable-swipe-tracker` の値が `false` である。

    :2: 何もしない: 検証環境がタッチパッドでの二本指ジェスチャに対応している場合

    - Windowsの設定で「タッチパッド」→「スクロールとズーム」→「スクロール方向」の状態を確認する。
      「ダウンモーションで上にスクロール」である場合、右スワイプを使用することにする。
      「ダウンモーションで下にスクロール」である場合、左スワイプを使用することにする。
    - Firefoxを起動する。
    - テストケースの `index.html` を開く。
    - いずれかのリンクをクリックしてページ遷移する。
    - 指二本をタッチパッドに接触させ、先に確認したWindowsの設定に併せて、右スワイプ（まっすぐ右へ動かす）または左スワイプ（まっすぐ左へ動かす）を行い、指をタッチパッドから放す。
    - **確認**
        - 何も起こらない。

    :2: 何もしない: 検証環境がタッチパッドでの二本指ジェスチャに対応していない場合

    ABOUT_CONFIG

    - `widget.disable-swipe-tracker` の値が `true` である。

Ui-13: タッチパッドでの二本指でのスクロール時の、ページ終端到達時のアニメーション効果

    :1: 適用する（既定）

    - Firefoxを起動する。
    - テストケースの `index.html` を開く。
    - ページ最下部までスクロールする。
    - 指二本をタッチパッドに接触させ、まっすぐ上に動かし、指をタッチパッドから放す。
    - **確認**
        - 本来のスクロール範囲を超えてスクロールした後、指を放したタイミングで元のページ終端に戻る。

    :1: 適用する（既定）：検証環境がタッチパッドでの二本指ジェスチャに対応していない場合

    ABOUT_CONFIG

    - `apz.overscroll.enabled` の値が `true` である。

    :2: 適用しない

    - Firefoxを起動する。
    - テストケースの `index.html` を開く。
    - ページ最下部までスクロールする。
    - 指二本をタッチパッドに接触させ、まっすぐ上に動かし、指をタッチパッドから放す。
    - **確認**
        - ページ終端からスクロール位置が変化しない。

    :2: 適用しない：検証環境がタッチパッドでの二本指ジェスチャに対応していない場合

    ABOUT_CONFIG

    - `apz.overscroll.enabled` の値が `false` である。

Ui-14: 組み込みのPDFビューワー上での編集操作の可否

    :1: 編集を許可する（既定）

    - Firefoxを起動する。
    - テストケースの `pdf.pdf` を開く。
    - **確認**
        - ページ右上に鉛筆のアイコンのボタンが表示される。
        - ボタンをクリックして、PDFのページ上に自由に描き込みを行える。
        - ページ右上に画像のアイコンのボタンが表示される。
        - ボタンをクリックして、PDFのページ上に自由に画像の追加を行える。
        - ページ右上にマーカーのアイコンのボタンが表示される。
        - ボタンをクリックして、PDFのページ上のテキストを自由にハイライトできる。

    :2: 編集を禁止する

    - Firefoxを起動する。
    - テストケースの `pdf.pdf` を開く。
    - **確認**
        - ページ右上に鉛筆のアイコンのボタンが表示されない。
        - ページ右上に画像のアイコンのボタンが表示されない。
        - ページ右上にマーカーのアイコンのボタンが表示されない。

Ui-15: Firefox Relayを使った、Firefoxの資格情報マネージャーからの直接のEメールマスク作成

    :1: 使用する（要Firefoxアカウント）（既定）

    OPTIONS

    - 「プライバシーとセキュリティ」→「ブラウザープライバシー」→「ログインとパスワード」で「Firefox Relay メールマスクによるメールアドレスの保護を提案する」の項目が表示され、チェックが入っている。

    :2: 使用しない

    OPTIONS

    - 「プライバシーとセキュリティ」→「ブラウザープライバシー」→「ログインとパスワード」で「Firefox Relay メールマスクによるメールアドレスの保護を提案する」の項目が存在しない。または、チェックが外れた状態で無効化されている。

Ui-16: 印刷機能の使用可否

    :1: 印刷を許可する（既定）

    - Firefoxを起動する。
    - テストケースの `index.html` を開く。
    - 印刷操作を試みる。
    - **確認**
        - 印刷を行える。

    :2: 印刷を禁止する

    - Firefoxを起動する。
    - テストケースの `index.html` を開く。
    - 印刷操作を試みる。
    - **確認**
        - 印刷を行えない。

Ui-17: ファイル選択ダイアログの使用可否

    :1: ファイル選択を許可する（既定）

    ABOUT_POLICIES

    - `AllowFileSelectionDialogs` が存在しない。

    :2: ファイル選択を禁止する

    ABOUT_POLICIES

    - `AllowFileSelectionDialogs` の値が `false` である。

Ui-18: コンテナー機能のUIの表示

    :1: 機能を有効化し、UIを表示する

    - Firefoxを起動する。
    - テストケースの `index.html` を開く。
    - リンクを右クリックする。
    - **確認**
        - 「リンクを新しいコンテナータブで開く」が選択可能になっている。

    :2: 機能を無効化し、UIを隠す（既定）

    - Firefoxを起動する。
    - テストケースの `index.html` を開く。
    - リンクを右クリックする。
    - **確認**
        - 「リンクを新しいコンテナータブで開く」が表示されない。

Ui-19: AIチャットボットボタンを表示する

    :1: 機能を有効化し、UIを表示する（既定）

    - TBD

    :2: 機能を無効化し、UIを隠す

    - TBD

Ui-20: 設定画面の「Firefox Labs」の表示

    :1: 機能を有効化し、UIを表示する（既定）

    - TBD

    :2: 機能を無効化し、UIを隠す

    - TBD

Ui-21: 新しいプロファイルマネージャーの使用

    :1: 使用する

    - TBD

    :2: 使用しない（既定）

    - TBD
